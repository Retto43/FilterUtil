ИНСТРУКЦИЯ ПО ЗАПУСКУ ПРОГРАММЫ ФИЛЬТРАЦИИ ДАННЫХ

1. ТРЕБОВАНИЯ К СИСТЕМЕ
   - Java 25 или выше
   - Maven 3.6.x или выше (для сборки проекта)
   - Apache Commons CLI 1.11.0 (управляется через Maven)

   Проверка версий:
   java -version
   javac -version
   mvn -version

2. СТРУКТУРА ПРОЕКТА (Maven)
   FilterUtil/
   ├── pom.xml
   ├── src/
   │   └── main/
   │       └── java/
   │           └── Program.java
   └── input-files/
       ├── in1.txt
       └── in2.txt

3. ФАЙЛ POM.XML (уже создан)
   <?xml version="1.0" encoding="UTF-8"?>
   <project xmlns="http://maven.apache.org/POM/4.0.0"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
            http://maven.apache.org/xsd/maven-4.0.0.xsd">
       <modelVersion>4.0.0</modelVersion>
   
       <groupId>org.example</groupId>
       <artifactId>FilterUtil</artifactId>
       <version>1.0-SNAPSHOT</version>
   
       <properties>
           <maven.compiler.source>25</maven.compiler.source>
           <maven.compiler.target>25</maven.compiler.target>
           <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
       </properties>
       
       <dependencies>
           <dependency>
               <groupId>commons-cli</groupId>
               <artifactId>commons-cli</artifactId>
               <version>1.11.0</version>
           </dependency>
       </dependencies>
   </project>

4. СБОРКА ПРОЕКТА

   Очистка и компиляция:
   mvn clean compile

   Создание JAR-файла со всеми зависимостями:
   mvn clean compile assembly:single

   Или добавьте в pom.xml плагин для сборки с зависимостями:
   
   <build>
       <plugins>
           <plugin>
               <artifactId>maven-assembly-plugin</artifactId>
               <configuration>
                   <archive>
                       <manifest>
                           <mainClass>Program</mainClass>
                       </manifest>
                   </archive>
                   <descriptorRefs>
                       <descriptorRef>jar-with-dependencies</descriptorRef>
                   </descriptorRefs>
               </configuration>
               <executions>
                   <execution>
                       <id>make-assembly</id>
                       <phase>package</phase>
                       <goals>
                           <goal>single</goal>
                       </goals>
                   </execution>
               </executions>
           </plugin>
       </plugins>
   </build>

   После сборки JAR будет находиться:
   target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar

5. ОПЦИИ КОМАНДНОЙ СТРОКИ

   -o, --output <путь>    путь для выходных файлов
   -p, --prefix <префикс>  префикс имен выходных файлов
   -a, --append            добавление в существующие файлы
   -s, --short             краткая статистика (только количество)
   -f, --full              полная статистика (min, max, sum, average)

6. ФОРМАТ ЗАПУСКА

   Вариант 1: Запуск через Maven (для разработки)
   mvn exec:java -Dexec.mainClass="Program" -Dexec.args="[опции] файл1 файл2 ..."

   Вариант 2: Запуск скомпилированных классов
   java -cp target/classes:target/dependency/* Program [опции] файл1 файл2 ...

   Вариант 3: Запуск JAR-файла (рекомендуемый)
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar [опции] файл1 файл2 ...

7. ПРИМЕРЫ ЗАПУСКА (с использованием JAR)

   Пример 1: Базовый запуск
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar in1.txt in2.txt
   Результат: integers.txt, floats.txt, strings.txt в текущей папке

   Пример 2: С префиксом
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -p result_ in1.txt in2.txt
   Результат: result_integers.txt, result_floats.txt, result_strings.txt

   Пример 3: С указанием пути
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -o ./output/ -p sample- in1.txt in2.txt
   Результат: ./output/sample-integers.txt, ./output/sample-floats.txt, ./output/sample-strings.txt

   Пример 4: С добавлением в файлы
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -a in1.txt in2.txt

   Пример 5: Со статистикой
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -s in1.txt in2.txt
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -f in1.txt in2.txt
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -s -f in1.txt in2.txt

   Пример 6: Все опции вместе
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -o ./output/ -p test- -a -s -f in1.txt in2.txt

8. ПРИМЕРЫ ВХОДНЫХ ФАЙЛОВ

   Создайте файлы в директории input-files/:

   input-files/in1.txt:
   Lorem ipsum dolor sit amet
   45
   Пример
   3.1415
   consectetur adipiscing
   -0.001
   тестовое задание
   100500

   input-files/in2.txt:
   Нормальная форма числа с плавающей запятой
   1.528535047E-25
   Long
   1234567890123456789

   Запуск с этими файлами:
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -s -a -p sample- input-files/in1.txt input-files/in2.txt

9. ПРИМЕР РАБОТЫ ПРОГРАММЫ

   Запуск:
   java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -s -a -p sample- input-files/in1.txt input-files/in2.txt

   Результат в файлах:
   sample-integers.txt:
   45
   100500
   1234567890123456789

   sample-floats.txt:
   3.1415
   -0.001
   1.528535047E-25

   sample-strings.txt:
   Lorem ipsum dolor sit amet
   Пример
   consectetur adipiscing
   тестовое задание
   Нормальная форма числа с плавающей запятой
   Long

   Вывод в консоль:
   === Краткая статистика ===
   Целые числа: 3 элементов
   Вещественные числа: 3 элементов
   Строки: 6 элементов

10. ОСОБЕННОСТИ РЕАЛИЗАЦИИ
    - Целые числа обрабатываются как Long (поддержка больших чисел)
    - Вещественные числа поддерживают научную нотацию (E-25)
    - Директория для результатов создается автоматически
    - Файлы создаются только при наличии соответствующих данных
    - При указании -s и -f выводится оба типа статистики
    - Программа продолжает работу при ошибках чтения отдельных файлов
    - Все зависимости включены в JAR-файл (удобно для переноса)

11. ВОЗМОЖНЫЕ ОШИБКИ

    "Ошибка, такого флага нет" - указана несуществующая опция
    "Не указаны входные файлы" - не переданы файлы для обработки
    "Не удалось создать директорию" - проблемы с правами доступа
    "Ошибка чтения файла" - файл не существует или недоступен

12. БЫСТРЫЙ СТАРТ (пошагово)

    Шаг 1: Клонировать/создать проект с структурой Maven
    Шаг 2: Поместить Program.java в src/main/java/
    Шаг 3: Скопировать предоставленный pom.xml
    Шаг 4: Создать входные файлы в input-files/
    Шаг 5: Собрать проект:
           mvn clean compile assembly:single
    Шаг 6: Запустить программу:
           java -jar target/FilterUtil-1.0-SNAPSHOT-jar-with-dependencies.jar -s input-files/in1.txt input-files/in2.txt